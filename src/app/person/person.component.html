<div class="row">
    <div class="col">
        <h3>Gestion de personas</h3>
    </div>
    <div class="col-3 col-sm-2 col-lg-2">
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#dataManager" (click)="modalCreate()">
            Agregrar
        </button>
    </div>
</div>
<div class="col-10 mx-auto">
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Edad</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            @for (person of people; track person.id) {
                <tr>
                    <td>{{person.id}}</td>
                    <td>{{person.nombre}}</td>
                    <td>{{person.apellido}}</td>
                    <td>{{person.edad}}</td>
                    <td>
                        <button class="btn btn-success mx-2" (click)="modalUpdate(person)">Editar</button>
                        <button class="btn btn-danger" (click)="DeletePerson(person)">Eliminar</button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
  
<!-- Modal -->
@if(editPerson != undefined){
<div class="position-fixed top-0 start-0 w-100 h-100" style="background-color: rgba(0,0,0,0.5); ">
    <div class="d-flex justify-content-center align-items-center h-100">
        <div class="card col-6">
            <div class="card-header">
              <h5>{{modalTitle}}</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="name" class="form-label">Nombre</label>
                    <input type="text" class="form-control" id="name" [(ngModel)]="editPerson.nombre">
                  </div>
                  <div class="mb-3">
                    <label for="lastname" class="form-label">Apellidos</label>
                    <input type="text" class="form-control" id="lastname" [(ngModel)]="editPerson.apellido">
                  </div>
                  <div class="mb-3">
                    <label for="age" class="form-label">Edad</label>
                    <input type="text" class="form-control" id="age" [(ngModel)]="editPerson.edad">
                  </div>
            </div>
            <div class="card-footer d-flex justify-content-end">
                <button class="btn btn-primary mx-2" (click)="CompleteOperation()">Aceptar</button>
                <button class="btn btn-secondary mx-2" (click)="cancelOperation()">Cancelar</button>
            </div>
          </div>
    </div>
</div>
}